<!DOCTYPE html>
<html lang="en">
<head>
  <title>WebGC demo</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta http-equiv="Content-Language" content="en-us">
  <link href="webgc_demo.css" rel="stylesheet" type="text/css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script> 
  <script type="text/javascript" src="../../bower_components/peerjs/peer.js"></script>
  <script type="text/javascript" src="../../bower_components/cytoscape/dist/cytoscape.js"></script>
  <!-- <script type="text/javascript" src="../../bower_components/log4javascript/log4javascript.js"></script> -->
  <script type="text/javascript" src="../../lib/utils/dumb-proximity-func.js"></script> 
  <script type="text/javascript" src="../../lib/utils/gossip-util.js"></script>
  <script type="text/javascript" src="../../lib/patterns/GossipFactory.js"></script> 
  <script type="text/javascript" src="../../lib/apis/GossipProtocol.js"></script> 
  <script type="text/javascript" src="../../lib/algorithms/Vicinity.js"></script> 
  <script type="text/javascript" src="../../lib/algorithms/Cyclon.js"></script> 
  <script type="text/javascript" src="../../lib/algorithms/RandomPeerSampling.js"></script> 
  <script type="text/javascript" src="./Plotter.js"></script> 
  <script type="text/javascript" src="./Coordinator.js"></script> 
  <script type="text/javascript" src="./confObj.js"></script>
  <script>
    $(document).ready(function(){
      $('#start').click( function(){
        var userName = $('#user').val();
        if( userName === '' )
          alert("Type your name please");
        else{
          $('#start').attr('disabled', 'disabled');
          var listObj = document.getElementById('list'); 
          var index = listObj.selectedIndex; 
          var pref = parseInt( listObj.options[index].text );
          configurationObj['peerId'] = userName;
          configurationObj.gossipAlgos.cyclon1['data'] = pref;
          configurationObj.gossipAlgos.vicinity1['data'] = pref;
          var coord = new Coordinator(configurationObj);
        }
      });
    });
  </script>
</head>
<!-- <title>WebGC demo</title> -->
<body style="zoom: 1; background-color: #ddd;">
  <div id="main" class="mainContainer">
    <div id="form" class="formContainer">
      <h2>Preferences</h2>
        Your peer ID: <input type="text" id="user" placeholder="Write your ID, here!">
        Your preference is :
        <select id="list">
          <option value="v1">1</option><option value="v2">2</option><option value="v3">3</option>
        </select>
        <input class="button" type="button" value="START" id="start"> 
    </div>
    <div id="graphs" class="graphsContainer">
      <div id="rps-section" class="rpsContainer"></div>
      <div id="clu-section" class="cluContainer"></div>
    </div>
    <div id="chat" class="chatContainer">
      <div id="actions">
        Your peer ID is: <span id="pid"></span><br>
        Connect to a peer: <input type="text" id="rid" 
          placeholder="Someone else's id">
        <input class="button" type="button" value="Connect"
          id="connect">
        <br><br>
        <form id="send">
          <input type="text" id="text" placeholder="Enter message">
          <input class="button" type="submit" value="Send to selected peers">
        </form>
        <button id="close">Close selected connections</button>
      </div>
      <div id="wrap"><div id="connections"><span class="filler">You have not yet
        made any connections.</span></div>
        <div class="clear"></div>
      </div>
      <!--
      <div id="box" style="background: #fff; font-size: 18px;padding:40px 30px; text-align: center;">
        Drag file here to send to active connections.
      </div>
      -->
    </div>
  </div>
</body>  
</html>
