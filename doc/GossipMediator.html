<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: GossipMediator</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: GossipMediator</h1>
    
    



<section>
    
<header>
    <h2>
    GossipMediator
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="GossipMediator"><span class="type-signature"></span>new GossipMediator<span class="signature">(algo, log, worker)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        This class acts as a mediator between the 
Coordinator (object in the main thread of the 
Javascript engine) and one gossip protocol; both, the gossip protocol and the gossip mediator
belongs to the context of one <a href="http://www.w3schools.com/html/html5_webworkers.asp">Web Worker</a>.
The reason behind this separation is to avoid blocking the main thread when gossip computations
take considerable time to be done. The creation of objects in the context of web workers is done 
in a dynamic fashion by the GossipFactory. Three types
of retransmissions take place:

i) Request to contact an external peer to perform a gossip exchange
ii) Internal request, this happens when the current  gossip instance depends on the data shared by other
gossip protocol (located in another web worker context)
iii) Send data to the application

Take into account that any WebRTC connection is performed by the main thread due to the restricted
environment in web workers.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>algo</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">Instance of one gossip protocol</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>log</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">Logger (see LoggerForWebWorker) to 
monitor the actions in the web worker</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>worker</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">Reference to the actual worker thread</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li><a href="mailto:raziel.carvajal@gmail.com">Raziel Carvajal-Gomez</a></li>
        </ul>
    </dd>
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line4">line 4</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="applyDependency"><span class="type-signature">&lt;static> </span>applyDependency<span class="signature">(msg)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Dependencies between gossip protocols, see the 
configuration object for more details, are linked
by this method in two cases: local dependencies will refer to objects in the web worker context and
external dependencies will refer to objects in the main thread.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>msg</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">Object with attributes of the dependency, as: dependency ID, function to refer, etc.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line102">line 102</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="listen"><span class="type-signature">&lt;static> </span>listen<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Every message exchange between the main thread and the web worker is handled by
this method.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line129">line 129</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="postInMainThread"><span class="type-signature">&lt;static> </span>postInMainThread<span class="signature">(msg)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Post messages to the Coordinator
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>msg</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">Message to send, this object contains one header to identifies what will be done
by the Coordinator</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line171">line 171</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="scheduleActiveThread"><span class="type-signature">&lt;static> </span>scheduleActiveThread<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        The periodic execution of one gossip cycle is performed in this method, normally what 
the protocol does is to chose items from its local view for being exchanged with other peer.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line75">line 75</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="sentActiveCycleStats"><span class="type-signature">&lt;static> </span>sentActiveCycleStats<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        In order to check if the use of web workers has an impact on the gossip protocol this
method calculates how many seconds takes to perform a gossip cycle, the value of this offset is sent
to the main thread.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line55">line 55</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="setDependencies"><span class="type-signature">&lt;static> </span>setDependencies<span class="signature">(algoDependencies)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Fill the "dependencies" object to distinguish between objects living in the web worker
context (internal dependency) and those who belong to the main thread context (external dependency)
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>algoDependencies</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">Dependencies of the gossip algorithm (see 
configuration object) initialized in the web worker
context</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="GossipMediator.js.html">controllers/GossipMediator.js</a>, <a href="GossipMediator.js.html#line38">line 38</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="algorithms.html">src/algorithms</a></li><li><a href="confObjs.html">src/confObjs</a></li><li><a href="controllers.html">src/controllers</a></li><li><a href="services.html">src/services</a></li><li><a href="superObjs.html">src/superObjs</a></li><li><a href="utils.html">src/utils</a></li></ul><h3>Classes</h3><ul><li><a href="Bootstrap.html">Bootstrap</a></li><li><a href="Coordinator.html">Coordinator</a></li><li><a href="Cyclon.html">Cyclon</a></li><li><a href="GossipFactory.html">GossipFactory</a></li><li><a href="GossipMediator.html">GossipMediator</a></li><li><a href="GossipProtocol.html">GossipProtocol</a></li><li><a href="GossipUtil.html">GossipUtil</a></li><li><a href="Logger.html">Logger</a></li><li><a href="LookupService.html">LookupService</a></li><li><a href="Plotter.html">Plotter</a></li><li><a href="SamplingService.html">SamplingService</a></li><li><a href="Vicinity.html">Vicinity</a></li><li><a href="ViewSelector.html">ViewSelector</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:connection">connection</a></li><li><a href="global.html#event:open">open</a></li></ul><h3>Global</h3><ul><li><a href="global.html#configurationObj">configurationObj</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Tue Jun 09 2015 10:37:13 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>